(this["webpackJsonpscheduler-app"]=this["webpackJsonpscheduler-app"]||[]).push([[0],{132:function(e){e.exports=JSON.parse('{"Mon":"Monday","Tue":"Tuesday","Wed":"Wednesday","Thu":"Thursday","Fri":"Friday","Sat":"Saturday","export":"Export","reset":"Reset All","resetRemoved":"Reset Removed Classes","actions":"Actions","clickToRemove":"Click On Any Schedule Item To Remove","loading":"Loading Data...","search":"Search or select course code","courseCode":"Course Code","venue":"Venue","time":"Time"}')},133:function(e){e.exports=JSON.parse('{"Mon":"\u661f\u671f\u4e00","Tue":"\u661f\u671f\u4e8c","Wed":"\u661f\u671f\u4e09","Thu":"\u661f\u671f\u56db","Fri":"\u661f\u671f\u4e94","Sat":"\u661f\u671f\u516d","export":"\u532f\u51fa","reset":"\u91cd\u7f6e\u6240\u6709","resetRemoved":"\u91cd\u7f6e\u5df2\u79fb\u9664\u73ed\u5225","actions":"\u884c\u52d5","clickToRemove":"\u9ede\u64ca\u4ee5\u79fb\u9664\u4efb\u4f55\u73ed\u5225","loading":"\u8f09\u5165\u8cc7\u6599\u4e2d...","search":"\u641c\u7d22\u6216\u9078\u64c7\u8ab2\u5802\u7de8\u865f","courseCode":"\u8ab2\u5802\u7de8\u865f","venue":"\u5730\u9ede","time":"\u6642\u9593"}')},164:function(e,t,n){"use strict";n.r(t);var c=n(199),r=n(195),a=n(0),o=n(25),i=n.n(o),s=n(14),l=n(4),u=n(192),d=n(193),j=n(103),b=n(8),O=n(7),h=n(123),p=(n(116),n(118),n(104)),f=n(54),x=n(49),m=n(177),g=n(178),v=n(179),C=n(180),w=n(181),S=n(202),y=n(182),z=n(200),R=n(138),k=n(3),T=["children"],D=["children","styles","components","theme","size","colorScheme","isDisabled","isInvalid"],I=Object(p.a)({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),M={container:function(e){return Object(b.a)(Object(b.a)({},e),{},{pointerEvents:"auto"})},input:function(e){return Object(b.a)(Object(b.a)({},e),{},{color:"inherit",lineHeight:1})},menu:function(e){return Object(b.a)(Object(b.a)({},e),{},{boxShadow:"none"})},valueContainer:function(e,t){var n=t.selectProps.size;return Object(b.a)(Object(b.a)({},e),{},{padding:"0.125rem ".concat({sm:"0.5rem",md:"0.5rem",lg:"0.5rem"}[n])})},loadingMessage:function(e,t){var n=t.selectProps.size;return Object(b.a)(Object(b.a)({},e),{},{fontSize:{sm:"0.875rem",md:"1rem",lg:"1.125rem"}[n],padding:{sm:"6px 9px",md:"8px 12px",lg:"10px 15px"}[n]})},multiValueRemove:function(e,t){var n=t.isFocused,c=t.selectProps.multiValueRemoveFocusStyle;return n?c:{}},control:function(){return{}},menuList:function(){return{}},option:function(){return{}},multiValue:function(){return{}},multiValueLabel:function(){return{}},group:function(){return{}}},E={Control:function(e){var t=e.children,n=e.innerRef,c=e.innerProps,r=e.isDisabled,a=e.isFocused,o=e.selectProps,i=o.size,s=o.isInvalid,l=Object(f.a)("Input",{size:i});return Object(k.jsx)(x.b,{value:l,children:Object(k.jsx)(m.a,Object(b.a)(Object(b.a)({ref:n,sx:Object(b.a)(Object(b.a)({},l.field),{},{p:0,overflow:"hidden",h:"auto",minH:{sm:8,md:10,lg:12}[i]})},c),{},{"data-focus":!!a||void 0,"data-invalid":!!s||void 0,"data-disabled":!!r||void 0,children:t}))})},MultiValueContainer:function(e){var t=e.children,n=e.innerRef,c=e.innerProps,r=e.data,a=e.selectProps;return Object(k.jsx)(g.a,Object(b.a)(Object(b.a)({ref:n},c),{},{m:"0.125rem",variant:r.isFixed?"solid":"subtle",colorScheme:r.colorScheme||a.colorScheme,size:a.size,children:t}))},MultiValueLabel:function(e){var t=e.children,n=e.innerRef,c=e.innerProps;return Object(k.jsx)(g.c,Object(b.a)(Object(b.a)({ref:n},c),{},{children:t}))},MultiValueRemove:function(e){var t=e.children,n=e.innerRef,c=e.innerProps;return e.data.isFixed?null:Object(k.jsx)(g.b,Object(b.a)(Object(b.a)({ref:n},c),{},{tabIndex:-1,children:t}))},IndicatorSeparator:function(e){var t=e.innerProps;return Object(k.jsx)(v.a,Object(b.a)(Object(b.a)({},t),{},{orientation:"vertical",opacity:"1"}))},ClearIndicator:function(e){var t=e.innerProps,n=e.selectProps.size;return Object(k.jsx)(C.a,Object(b.a)(Object(b.a)({},t),{},{size:n,mx:2,tabIndex:-1}))},DropdownIndicator:function(e){var t=e.innerProps,n=e.selectProps.size,c=Object(x.d)().addon,r={sm:4,md:5,lg:6}[n];return Object(k.jsx)(w.a,Object(b.a)(Object(b.a)({},t),{},{sx:Object(b.a)(Object(b.a)({},c),{},{h:"100%",borderRadius:0,borderWidth:0,cursor:"pointer"}),children:Object(k.jsx)(I,{h:r,w:r})}))},MenuPortal:function(e){var t=e.children;return Object(k.jsx)(S.a,{children:t})},Menu:function(e){var t=e.children,n=Object(j.a)(e,T),c=Object(f.a)("Menu");return Object(k.jsx)(O.m.Menu,Object(b.a)(Object(b.a)({},n),{},{children:Object(k.jsx)(x.b,{value:c,children:t})}))},MenuList:function(e){var t=e.innerRef,n=e.children,c=e.maxHeight,r=e.selectProps.size,a=Object(x.d)().list,o=Object(x.e)(),i={sm:o.radii.sm,md:o.radii.md,lg:o.radii.md};return Object(k.jsx)(y.a,{sx:Object(b.a)(Object(b.a)({},a),{},{maxH:"".concat(c,"px"),overflowY:"auto",borderRadius:i[r]}),ref:t,children:n})},GroupHeading:function(e){var t=e.innerProps,n=e.children,c=Object(x.d)().groupTitle;return Object(k.jsx)(y.a,Object(b.a)(Object(b.a)({sx:c},t),{},{children:n}))},Option:function(e){var t=e.innerRef,n=e.innerProps,c=e.children,r=e.isFocused,a=e.isDisabled,o=e.selectProps.size,i=Object(x.d)().item;return Object(k.jsx)(y.a,Object(b.a)(Object(b.a)(Object(b.a)({role:"button",sx:Object(b.a)(Object(b.a)({},i),{},{w:"100%",textAlign:"left",bg:r?i._focus.bg:"transparent",fontSize:o},a&&i._disabled),ref:t},n),a&&{disabled:!0}),{},{children:c}))}},F=function(e){var t=e.children,n=e.styles,c=void 0===n?{}:n,r=e.components,o=void 0===r?{}:r,i=e.theme,s=void 0===i?function(){return{}}:i,l=e.size,u=void 0===l?"md":l,d=e.colorScheme,O=void 0===d?"gray":d,h=e.isDisabled,p=e.isInvalid,f=Object(j.a)(e,D),m=Object(x.e)(),g=Object(z.a)({isDisabled:h,isInvalid:p}),v=m.components.Tag.baseStyle.closeButton._focus,C={background:v.bg,boxShadow:m.shadows[v.boxShadow]},w=Object(R.d)(m.colors.gray[400],m.colors.whiteAlpha[400]),S=u;return["sm","md","lg"].includes(u)||(S="md"),Object(a.cloneElement)(t,Object(b.a)({components:Object(b.a)(Object(b.a)({},E),o),styles:Object(b.a)(Object(b.a)({},M),c),theme:function(e){var t=s(e);return Object(b.a)(Object(b.a)(Object(b.a)({},e),t),{},{colors:Object(b.a)(Object(b.a)({},e.colors),{},{neutral50:w,neutral40:w},t.colors),spacing:Object(b.a)(Object(b.a)({},e.spacing),t.spacing)})},colorScheme:O,size:S,multiValueRemoveFocusStyle:C,isDisabled:g.disabled,isInvalid:!!g["aria-invalid"]},f))},P=Object(a.forwardRef)((function(e,t){return Object(k.jsx)(F,Object(b.a)(Object(b.a)({},e),{},{children:Object(k.jsx)(h.a,{ref:t})}))})),L=n(198),A=n(205),B=n(203),V=n(188),W=n(190),H=n(197),N=n(184),J=n(191),Y=n(136),_=n(124),G=n(65),X=function(e){var t=Object(R.c)().toggleColorMode,n=Object(R.d)("dark","light"),c=Object(R.d)(G.c,G.d);return Object(k.jsx)(N.a,Object(b.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"solid",color:"current",onClick:t,icon:Object(k.jsx)(c,{})},e))},U=n(204),q=function(e){var t=e.grouped,n=e.weekDays,c=e.hours,r=e.courseColorMap,a=e.setRemoved,o=e.calendarRef,i=Object(U.a)(),l=i.t;i.i18n;return Object(k.jsxs)(A.a,{align:"top",spacing:"0",h:"660px",w:"1248px",overflow:"auto",ref:o,children:[Object(k.jsx)(A.c,{spacing:"0",mt:3,children:c.map((function(e){return Object(k.jsx)(m.a,{h:"50px",w:"60px",alignItems:"flex-end",justifyContent:"center",children:e},1e3*Math.random())}))}),n.map((function(e){return Object(k.jsxs)(A.c,{spacing:"0",position:"relative",children:[Object(k.jsx)(m.a,{h:"50px",w:"197px",alignItems:"center",justifyContent:"center",children:l(e)},1e3*Math.random()),c.map((function(n,c){var o;return(null===(o=t[e])||void 0===o?void 0:o[n])?Object(k.jsx)(m.a,{position:"absolute",top:"".concat(50*(c+1),"px"),w:"100%",children:t[e][n].map((function(c){var o;return Object(k.jsx)(y.a,{as:"button",p:1,borderWidth:"1px",borderColor:r[c["Course Code"]],borderLeftWidth:"5px",borderLeftColor:"l"===c["Class Section"].charAt(0).toLowerCase()?"yellow":"blackAlpha.500",bg:null!==(o=r[c["Course Code"]])&&void 0!==o?o:"transparent",overflow:"auto",w:"".concat(100/t[e][n].length,"%"),h:"".concat(50*(c["End Time"].slice(0,2)-c["Start Time"].slice(0,2)),"px"),onClick:function(){return a((function(e){return[].concat(Object(s.a)(e),[c.index])}))},children:Object(k.jsxs)(A.b,{spacing:1,fontSize:"sm",children:[Object(k.jsxs)(y.a,{children:[c["Course Code"]," - ",c["Class Section"]]}),Object(k.jsx)(y.a,{children:c["Class Type"]}),Object(k.jsxs)(y.a,{children:[c["Start Time"]," - ",c["End Time"]]})]})})}))}):Object(k.jsx)(y.a,{top:"".concat(50*(c+1),"px"),w:"100%",h:"50px",borderWidth:"1px",position:"absolute",zIndex:"-1"})}))]})}))]})},K=n(189),Q=n(206),Z=function(e){var t=e.grouped,n=e.weekDays,c=e.hours,r=e.setRemoved,a=e.courseColorMap,o=Object(U.a)(),i=o.t;o.i18n;return Object(k.jsxs)(Q.e,{isLazy:!0,minH:"500px",children:[Object(k.jsx)(Q.b,{whiteSpace:"pre",overflow:{base:"auto",md:"unset"},children:n.map((function(e){return Object(k.jsx)(Q.a,{children:i(e)})}))}),Object(k.jsx)(Q.d,{children:n.map((function(e){return Object(k.jsx)(Q.c,{px:"0",children:c.map((function(n){var c,o;return(null===(c=t[e])||void 0===c?void 0:c[n])&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(A.a,{w:"100%",mb:3,children:[Object(k.jsx)(y.a,{alignSelf:"start",w:"80px",children:Object(k.jsx)(V.a,{fontSize:"2xl",color:"gray.500",children:n})}),Object(k.jsx)(A.c,{spacing:3,align:"start",w:"100%",children:null===(o=t[e])||void 0===o?void 0:o[n].map((function(e){return Object(k.jsxs)(A.c,{align:"flex-start",spacing:3,p:3,w:"100%",bg:a[e["Course Code"]],borderLeftWidth:"5px",borderLeftColor:"l"===e["Class Section"].charAt(0).toLowerCase()?"yellow":"blackAlpha.500",borderRadius:"md",direction:"column",children:[Object(k.jsxs)(m.a,{justifyContent:"space-between",w:"100%",alignItems:"center",children:[Object(k.jsxs)(A.a,{children:[Object(k.jsx)(g.a,{size:"lg",bg:"blackAlpha.300",children:e["Class Type"]}),Object(k.jsx)(g.a,{size:"lg",bg:"blackAlpha.300",children:e["Class Section"]})]}),Object(k.jsx)(N.a,{onClick:function(){return r((function(t){return[].concat(Object(s.a)(t),[e.index])}))},alignSelf:"flex-end",size:"sm",variant:"ghost",icon:Object(k.jsx)(K.a,{})})]}),Object(k.jsxs)(V.a,{fontSize:"xl",fontWeight:"bold",children:[i("courseCode")," : ",e["Course Code"]]}),Object(k.jsxs)(V.a,{fontSize:"md",children:[i("time")," : ",e["Start Time"]," -"," ",e["End Time"]]}),Object(k.jsxs)(V.a,{fontSize:"md",children:[i("venue")," : ",e["Venue (note)"]]})]})}))})]}),Object(k.jsx)(v.a,{orientation:"horizontal",mb:3})]})}))})}))})]})},$=function(){var e=Object(U.a)(),t=e.t,n=e.i18n,c=Object(a.useState)({data:[]}),r=Object(l.a)(c,2),o=r[0],i=r[1],j=Object(R.d)("#FFFFFF","#2D3748"),b=Object(a.useRef)(null),O=Object(a.useRef)(null),h=Object(a.useState)(!0),p=Object(l.a)(h,2),f=p[0],x=p[1],m=Object(a.useState)({}),g=Object(l.a)(m,2),v=g[0],C=g[1],w=Object(a.useState)([]),S=Object(l.a)(w,2),z=S[0],T=S[1],D=Object(a.useState)([]),I=Object(l.a)(D,2),M=I[0],E=I[1],F=Object(a.useState)(null),K=Object(l.a)(F,2),Q=K[0],$=K[1],ee=Object(L.a)();Object(a.useEffect)((function(){fetch("https://mureg.herokuapp.com/api/schedule").then((function(e){if(e.ok)return e.json();throw new Error("Data Not Found")})).then((function(e){i(e),e.lastUpdated.split(" ")[0]!==(new Date).toISOString().split("T")[0]&&fetch("https://mureg.herokuapp.com/api/update").then((function(){return ne()}))})).catch((function(e){$(e.message)}))}),[]);var te=function(e){localStorage.setItem("lang",e),n.changeLanguage(e)},ne=function(){ee({title:"New Data Available!",description:"Refresh To View The Latest Schedule.",status:"info",duration:5e3,isClosable:!0,position:"top"})},ce=["#4299E1B3","#E53E3EB3","#38A169B3","#DD6B20B3","#D53F8CB3","#00B5D8B3","#715096B3","#319795B3","#D69E2EB3","#505AD5B3"],re=["Mon","Tue","Wed","Thu","Fri","Sat"],ae=["18:00","12:00","15:00","13:00","19:00","09:00","10:00","14:00","17:00","11:00","16:00","20:00"].sort(),oe=[];Object(s.a)(new Map(o.data.map((function(e){return[e["Course Code"],e]}))).values()).map((function(e){return oe.push({value:e["Course Code"],label:e["Course Code"]})}));var ie={};z.map((function(e){return e.value})).forEach((function(e,t){return ie[e]=ce[t]}));return Object(a.useEffect)((function(){var e=o.data.filter((function(e){return z.map((function(e){return e.value})).includes(e["Course Code"])}));e=e.filter((function(e){return!M.includes(e.index)}));var t=["Day","Start Time"],n={};e.forEach((function(e){t.reduce((function(n,c,r){return n[e[c]]=n[e[c]]||(r+1===t.length?[]:{}),n[e[c]]}),n).push(e)})),C(n)}),[M,z]),0===o.data.length?Object(k.jsxs)(A.c,{h:"100vh",justify:"center",align:"center",children:[Q||Object(k.jsx)(B.a,{size:"xl",thickness:"5px",speed:"0.65s"}),Object(k.jsx)(V.a,{fontSize:"xl",children:Q||t("loading")})]}):Object(k.jsxs)(W.a,{maxW:"container.xl",overflow:"auto",children:[Object(k.jsxs)(A.a,{spacing:3,justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(y.a,{my:3,w:"100%",children:Object(k.jsx)(P,{placeholder:t("search"),ref:b,options:oe,isMulti:!0,onChange:function(e){return T(e)}})}),Object(k.jsxs)(H.a,{placement:"bottom-end",children:[Object(k.jsx)(H.b,{as:N.a,icon:Object(k.jsx)(G.a,{})}),Object(k.jsxs)(H.d,{children:[Object(k.jsx)(H.c,{onClick:function(){return te("zh")},children:"\u4e2d\u6587"}),Object(k.jsx)(H.c,{onClick:function(){return te("en")},children:"English"})]})]}),Object(k.jsx)(X,{})]}),Object(k.jsxs)(J.a,{spacing:3,justify:f?"space-between":"flex-end",align:"center",children:[f&&Object(k.jsx)(V.a,{fontSize:"xl",children:t("clickToRemove")}),Object(k.jsxs)(A.a,{children:[Object(k.jsx)(N.a,{icon:f?Object(k.jsx)(G.b,{}):Object(k.jsx)(u.a,{}),onClick:function(){return x(!f)}}),Object(k.jsxs)(H.a,{placement:"bottom-end",children:[Object(k.jsx)(H.b,{as:Y.a,rightIcon:Object(k.jsx)(d.a,{}),children:t("actions")}),Object(k.jsxs)(H.d,{children:[Object(k.jsx)(H.c,{onClick:function(){b.current.select.clearValue(),T([]),E([])},children:t("reset")}),Object(k.jsxs)(H.c,{onClick:function(){return E([])},children:[" ",t("resetRemoved")]}),f&&Object(k.jsx)(H.c,{onClick:function(){Object(_.exportComponentAsJPEG)(O,{fileName:"Schedule.jpg",html2CanvasOptions:{backgroundColor:j,scrollX:-window.scrollX,scrollY:-window.scrollY,windowWidth:document.documentElement.offsetWidth,windowHeight:document.documentElement.offsetHeight}})},children:t("export")})]})]})]})]}),f?Object(k.jsx)(q,{calendarRef:O,grouped:v,weekDays:re,hours:ae,courseColorMap:ie,setRemoved:E}):Object(k.jsx)(Z,{grouped:v,weekDays:re,hours:ae,setRemoved:E,courseColorMap:ie})]})},ee=n(194),te=n(91),ne=Object(ee.a)({fonts:{body:"Noto Sans TC"},styles:{global:function(e){return{body:{bg:Object(te.a)("white","gray.700")(e)}}}}}),ce=n(102),re=n(76),ae={en:{translation:n(132)},zh:{translation:n(133)}},oe=localStorage.getItem("lang");ce.a.use(re.e).init({fallbackLng:"zh",resources:ae,lng:oe,interpolation:{escapeValue:!1}});ce.a,n(163);i.a.render(Object(k.jsxs)(c.a,{theme:ne,children:[Object(k.jsx)(r.a,{}),Object(k.jsx)($,{})]}),document.getElementById("root"))}},[[164,1,2]]]);
(this["webpackJsonpscheduler-app"]=this["webpackJsonpscheduler-app"]||[]).push([[0],{134:function(e){e.exports=JSON.parse('{"Mon":"Monday","Tue":"Tuesday","Wed":"Wednesday","Thu":"Thursday","Fri":"Friday","Sat":"Saturday","export":"Export","reset":"Reset All","resetRemoved":"Reset Removed Classes","actions":"Actions","clickToRemove":"Click On Any Schedule Item To Remove","loading":"Loading Data...","search":"Search or select course code","courseCode":"Course Code","venue":"Venue","time":"Time","newDataAvailable":"New Data Available!","refresh":"Refresh To View The Latest Data."}')},135:function(e){e.exports=JSON.parse('{"Mon":"\u661f\u671f\u4e00","Tue":"\u661f\u671f\u4e8c","Wed":"\u661f\u671f\u4e09","Thu":"\u661f\u671f\u56db","Fri":"\u661f\u671f\u4e94","Sat":"\u661f\u671f\u516d","export":"\u532f\u51fa","reset":"\u91cd\u7f6e\u6240\u6709","resetRemoved":"\u91cd\u7f6e\u5df2\u79fb\u9664\u73ed\u5225","actions":"\u884c\u52d5","clickToRemove":"\u9ede\u64ca\u4ee5\u79fb\u9664\u4efb\u4f55\u73ed\u5225","loading":"\u8f09\u5165\u8cc7\u6599\u4e2d...","search":"\u641c\u5c0b\u6216\u9078\u64c7\u8ab2\u5802\u7de8\u865f","courseCode":"\u8ab2\u5802\u7de8\u865f","venue":"\u5730\u9ede","time":"\u6642\u9593","newDataAvailable":"\u6709\u65b0\u8cc7\u6599\u53ef\u7528\uff01","refresh":"\u5237\u65b0\u4ee5\u67e5\u770b\u6700\u65b0\u8cc7\u6599\u3002"}')},166:function(e,t,n){"use strict";n.r(t);var c=n(201),r=n(197),a=n(1),o=n(26),i=n.n(o),s=n(15),l=n(5),d=n(194),u=n(195),j=n(140),b=n(200),O=n(206),h=n(204),p=n(186),f=n(192),x=n(183),m=n(199),g=n(179),v=n(193),C=n(138),w=n(118),S=n(205),y=n(103),z=n(9),R=n(101),k=n(4),T=function(e){var t=Object(j.c)().toggleColorMode,n=Object(j.d)("dark","light"),c=Object(j.d)(R.a,R.b);return Object(k.jsx)(g.a,Object(z.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"solid",color:"current",onClick:t,icon:Object(k.jsx)(c,{})},e))},D=n(182),I=function(e){var t=e.grouped,n=e.weekDays,c=e.hours,r=e.courseColorMap,a=e.setRemoved,o=e.calendarRef,i=Object(S.a)().t;return Object(k.jsxs)(O.a,{mt:3,borderRadius:"md",borderWidth:"1px",p:3,align:"top",spacing:"0",h:"674px",w:"1248px",overflow:"auto",ref:o,children:[Object(k.jsx)(O.c,{spacing:"0",mt:3,children:c.map((function(e){return Object(k.jsx)(D.a,{h:"50px",w:"50px",alignItems:"flex-end",children:e},1e3*Math.random())}))}),n.map((function(e){return Object(k.jsxs)(O.c,{spacing:"0",position:"relative",w:"100%",children:[Object(k.jsx)(D.a,{w:"100%",h:"50px",alignItems:"center",justifyContent:"center",children:i(e)},1e3*Math.random()),c.map((function(n,c){var o;return(null===(o=t[e])||void 0===o?void 0:o[n])?Object(k.jsx)(D.a,{position:"absolute",top:"".concat(50*(c+1),"px"),w:"100%",children:t[e][n].map((function(c){var o;return Object(k.jsx)(x.a,{as:"button",p:1,borderWidth:"1px",borderColor:r[c["Course Code"]],borderLeftWidth:"5px",borderLeftColor:"l"===c["Class Section"].charAt(0).toLowerCase()?"yellow":"blackAlpha.500",bg:null!==(o=r[c["Course Code"]])&&void 0!==o?o:"transparent",overflow:"auto",w:"".concat(100/t[e][n].length,"%"),h:"".concat(50*(c["End Time"].slice(0,2)-c["Start Time"].slice(0,2)),"px"),onClick:function(){return a((function(e){return[].concat(Object(s.a)(e),[c.index])}))},children:Object(k.jsxs)(O.b,{spacing:1,fontSize:"sm",children:[Object(k.jsxs)(x.a,{children:[c["Course Code"]," - ",c["Class Section"]]}),Object(k.jsx)(x.a,{children:c["Class Type"]}),Object(k.jsxs)(x.a,{children:[c["Start Time"]," - ",c["End Time"]]})]})})}))}):Object(k.jsx)(x.a,{top:"".concat(50*(c+1),"px"),w:"100%",h:"50px",borderWidth:"1px",position:"absolute",zIndex:"-1"})}))]})}))]})},M=n(188),E=n(207),F=n(187),P=n(189),A=function(e){var t=e.grouped,n=e.weekDays,c=e.hours,r=e.setRemoved,a=e.courseColorMap,o=Object(S.a)(),i=o.t;o.i18n;return Object(k.jsxs)(E.e,{isLazy:!0,minH:"500px",children:[Object(k.jsx)(E.b,{whiteSpace:"pre",overflow:{base:"auto",md:"unset"},children:n.map((function(e){return Object(k.jsx)(E.a,{children:i(e)})}))}),Object(k.jsx)(E.d,{children:n.map((function(e){return Object(k.jsx)(E.c,{px:"0",children:c.map((function(n){var c,o;return(null===(c=t[e])||void 0===c?void 0:c[n])&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(O.a,{w:"100%",mb:3,children:[Object(k.jsx)(x.a,{alignSelf:"start",w:"80px",children:Object(k.jsx)(p.a,{fontSize:"2xl",color:"gray.500",children:n})}),Object(k.jsx)(O.c,{spacing:3,align:"start",w:"100%",children:null===(o=t[e])||void 0===o?void 0:o[n].map((function(e){return Object(k.jsxs)(O.c,{align:"flex-start",spacing:3,p:3,w:"100%",bg:a[e["Course Code"]],borderLeftWidth:"5px",borderLeftColor:"l"===e["Class Section"].charAt(0).toLowerCase()?"yellow":"blackAlpha.500",borderRadius:"md",direction:"column",children:[Object(k.jsxs)(D.a,{justifyContent:"space-between",w:"100%",alignItems:"center",children:[Object(k.jsxs)(O.a,{children:[Object(k.jsx)(F.a,{size:"lg",bg:"blackAlpha.300",children:e["Class Type"]}),Object(k.jsx)(F.a,{size:"lg",bg:"blackAlpha.300",children:e["Class Section"]})]}),Object(k.jsx)(g.a,{onClick:function(){return r((function(t){return[].concat(Object(s.a)(t),[e.index])}))},alignSelf:"flex-end",size:"sm",variant:"ghost",icon:Object(k.jsx)(M.a,{})})]}),Object(k.jsxs)(p.a,{fontSize:"xl",fontWeight:"bold",children:[i("courseCode")," : ",e["Course Code"]]}),Object(k.jsxs)(p.a,{fontSize:"md",children:[i("time")," : ",e["Start Time"]," -"," ",e["End Time"]]}),Object(k.jsxs)(p.a,{fontSize:"md",children:[i("venue")," : ",e["Venue (note)"]]})]})}))})]}),Object(k.jsx)(P.a,{orientation:"horizontal",mb:3})]})}))})}))})]})},L=n(105),B=n(8),W=n(130),V=(n(125),n(127),n(106)),H=n(55),N=n(50),J=n(190),Y=n(191),_=n(208),G=n(202),X=["children"],U=["children","styles","components","theme","size","colorScheme","isDisabled","isInvalid"],q=Object(V.a)({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),K={container:function(e){return Object(z.a)(Object(z.a)({},e),{},{pointerEvents:"auto"})},input:function(e){return Object(z.a)(Object(z.a)({},e),{},{color:"inherit",lineHeight:1})},menu:function(e){return Object(z.a)(Object(z.a)({},e),{},{boxShadow:"none"})},valueContainer:function(e,t){var n=t.selectProps.size;return Object(z.a)(Object(z.a)({},e),{},{padding:"0.125rem ".concat({sm:"0.5rem",md:"0.75rem",lg:"1rem"}[n])})},loadingMessage:function(e,t){var n=t.selectProps.size;return Object(z.a)(Object(z.a)({},e),{},{fontSize:{sm:"0.875rem",md:"1rem",lg:"1.125rem"}[n],padding:{sm:"6px 9px",md:"8px 12px",lg:"10px 15px"}[n]})},multiValueRemove:function(e,t){var n=t.isFocused,c=t.selectProps.multiValueRemoveFocusStyle;return n?c:{}},control:function(){return{}},menuList:function(){return{}},option:function(){return{}},multiValue:function(){return{}},multiValueLabel:function(){return{}},group:function(){return{}}},Q={Control:function(e){var t=e.children,n=e.innerRef,c=e.innerProps,r=e.isDisabled,a=e.isFocused,o=e.selectProps,i=o.size,s=o.isInvalid,l=Object(H.a)("Input",{size:i});return Object(k.jsx)(N.b,{value:l,children:Object(k.jsx)(D.a,Object(z.a)(Object(z.a)({ref:n,sx:Object(z.a)(Object(z.a)({},l.field),{},{p:0,overflow:"hidden",h:"auto",minH:{sm:8,md:10,lg:12}[i]})},c),{},{"data-focus":!!a||void 0,"data-invalid":!!s||void 0,"data-disabled":!!r||void 0,children:t}))})},MultiValueContainer:function(e){var t=e.children,n=e.innerRef,c=e.innerProps,r=e.data,a=e.selectProps;return Object(k.jsx)(F.a,Object(z.a)(Object(z.a)({ref:n},c),{},{m:"0.125rem",variant:r.isFixed?"solid":"subtle",colorScheme:r.colorScheme||a.colorScheme,size:a.size,children:t}))},MultiValueLabel:function(e){var t=e.children,n=e.innerRef,c=e.innerProps;return Object(k.jsx)(F.c,Object(z.a)(Object(z.a)({ref:n},c),{},{children:t}))},MultiValueRemove:function(e){var t=e.children,n=e.innerRef,c=e.innerProps;return e.data.isFixed?null:Object(k.jsx)(F.b,Object(z.a)(Object(z.a)({ref:n},c),{},{tabIndex:-1,children:t}))},IndicatorSeparator:function(e){var t=e.innerProps;return Object(k.jsx)(P.a,Object(z.a)(Object(z.a)({},t),{},{orientation:"vertical",opacity:"1"}))},ClearIndicator:function(e){var t=e.innerProps,n=e.selectProps.size;return Object(k.jsx)(J.a,Object(z.a)(Object(z.a)({},t),{},{size:n,mx:2,tabIndex:-1}))},DropdownIndicator:function(e){var t=e.innerProps,n=e.selectProps.size,c=Object(N.d)().addon,r={sm:4,md:5,lg:6}[n];return Object(k.jsx)(Y.a,Object(z.a)(Object(z.a)({},t),{},{sx:Object(z.a)(Object(z.a)({},c),{},{h:"100%",borderRadius:0,borderWidth:0,cursor:"pointer"}),children:Object(k.jsx)(q,{h:r,w:r})}))},MenuPortal:function(e){var t=e.children;return Object(k.jsx)(_.a,{children:t})},Menu:function(e){var t=e.children,n=Object(L.a)(e,X),c=Object(H.a)("Menu");return Object(k.jsx)(B.m.Menu,Object(z.a)(Object(z.a)({},n),{},{children:Object(k.jsx)(N.b,{value:c,children:t})}))},MenuList:function(e){var t=e.innerRef,n=e.children,c=e.maxHeight,r=e.selectProps.size,a=Object(N.d)().list,o=Object(N.e)(),i={sm:o.radii.sm,md:o.radii.md,lg:o.radii.md};return Object(k.jsx)(x.a,{sx:Object(z.a)(Object(z.a)({},a),{},{maxH:"".concat(c,"px"),overflowY:"auto",borderRadius:i[r]}),ref:t,children:n})},GroupHeading:function(e){var t=e.innerProps,n=e.children,c=Object(N.d)().groupTitle;return Object(k.jsx)(x.a,Object(z.a)(Object(z.a)({sx:c},t),{},{children:n}))},Option:function(e){var t=e.innerRef,n=e.innerProps,c=e.children,r=e.isFocused,a=e.isDisabled,o=e.selectProps.size,i=Object(N.d)().item;return Object(k.jsx)(x.a,Object(z.a)(Object(z.a)(Object(z.a)({role:"button",sx:Object(z.a)(Object(z.a)({},i),{},{w:"100%",textAlign:"left",bg:r?i._focus.bg:"transparent",fontSize:o},a&&i._disabled),ref:t},n),a&&{disabled:!0}),{},{children:c}))}},Z=function(e){var t=e.children,n=e.styles,c=void 0===n?{}:n,r=e.components,o=void 0===r?{}:r,i=e.theme,s=void 0===i?function(){return{}}:i,l=e.size,d=void 0===l?"md":l,u=e.colorScheme,b=void 0===u?"gray":u,O=e.isDisabled,h=e.isInvalid,p=Object(L.a)(e,U),f=Object(N.e)(),x=Object(G.a)({isDisabled:O,isInvalid:h}),m=f.components.Tag.baseStyle.closeButton._focus,g={background:m.bg,boxShadow:f.shadows[m.boxShadow]},v=Object(j.d)(f.colors.gray[400],f.colors.whiteAlpha[400]),C=d;return["sm","md","lg"].includes(d)||(C="md"),Object(a.cloneElement)(t,Object(z.a)({components:Object(z.a)(Object(z.a)({},Q),o),styles:Object(z.a)(Object(z.a)({},K),c),theme:function(e){var t=s(e);return Object(z.a)(Object(z.a)(Object(z.a)({},e),t),{},{colors:Object(z.a)(Object(z.a)({},e.colors),{},{neutral50:v,neutral40:v},t.colors),spacing:Object(z.a)(Object(z.a)({},e.spacing),t.spacing)})},colorScheme:b,size:C,multiValueRemoveFocusStyle:g,isDisabled:x.disabled,isInvalid:!!x["aria-invalid"]},p))},$=Object(a.forwardRef)((function(e,t){return Object(k.jsx)(Z,Object(z.a)(Object(z.a)({},e),{},{children:Object(k.jsx)(W.a,{ref:t})}))})),ee=function(){var e=Object(S.a)(),t=e.t,n=e.i18n,c=Object(a.useState)({data:[]}),r=Object(l.a)(c,2),o=r[0],i=r[1],z=Object(j.d)("#FFFFFF","#2D3748"),R=Object(a.useRef)(null),D=Object(a.useRef)(null),M=Object(a.useState)(!0),E=Object(l.a)(M,2),F=E[0],P=E[1],L=Object(a.useState)({}),B=Object(l.a)(L,2),W=B[0],V=B[1],H=Object(a.useState)([]),N=Object(l.a)(H,2),J=N[0],Y=N[1],_=Object(a.useState)([]),G=Object(l.a)(_,2),X=G[0],U=G[1],q=Object(a.useState)(null),K=Object(l.a)(q,2),Q=K[0],Z=K[1],ee=Object(b.a)();Object(a.useEffect)((function(){fetch("https://mureg.herokuapp.com/api/schedule").then((function(e){if(e.ok)return e.json();throw new Error("Data Not Found")})).then((function(e){i(e),e.lastUpdated.split(" ")[0]!==(new Date).toISOString().split("T")[0]&&fetch("https://mureg.herokuapp.com/api/update").then((function(){return ne()}))})).catch((function(e){Z(e.message)}))}),[]);var te=function(e){localStorage.setItem("lang",e),n.changeLanguage(e)},ne=function(){setTimeout((function(){ee({title:t("newDataAvailable"),description:t("refresh"),status:"info",duration:5e3,isClosable:!0,position:"top"})}),45e3)},ce=["#4299E1B3","#E53E3EB3","#38A169B3","#DD6B20B3","#D53F8CB3","#00B5D8B3","#715096B3","#319795B3","#D69E2EB3","#505AD5B3"],re=["Mon","Tue","Wed","Thu","Fri","Sat"],ae=["18:00","12:00","15:00","13:00","19:00","09:00","10:00","14:00","17:00","11:00","16:00","20:00"].sort(),oe=[];Object(s.a)(new Map(o.data.map((function(e){return[e["Course Code"],e]}))).values()).map((function(e){return oe.push({value:e["Course Code"],label:e["Course Code"]})}));var ie={};J.map((function(e){return e.value})).forEach((function(e,t){return ie[e]=ce[t]}));return Object(a.useEffect)((function(){var e=o.data.filter((function(e){return J.map((function(e){return e.value})).includes(e["Course Code"])}));e=e.filter((function(e){return!X.includes(e.index)}));var t=["Day","Start Time"],n={};e.forEach((function(e){t.reduce((function(n,c,r){return n[e[c]]=n[e[c]]||(r+1===t.length?[]:{}),n[e[c]]}),n).push(e)})),V(n)}),[X,J]),0===o.data.length?Object(k.jsxs)(O.c,{h:"100vh",justify:"center",align:"center",children:[Q||Object(k.jsx)(h.a,{size:"xl",thickness:"5px",speed:"0.65s"}),Object(k.jsx)(p.a,{fontSize:"xl",children:Q||t("loading")})]}):Object(k.jsxs)(f.a,{maxW:"container.xl",overflow:"auto",children:[Object(k.jsxs)(O.a,{spacing:3,justifyContent:"space-between",alignItems:"center",my:3,children:[Object(k.jsx)(x.a,{w:"100%",children:Object(k.jsx)($,{placeholder:t("search"),ref:R,options:oe,isMulti:!0,onChange:function(e){return Y(e)}})}),Object(k.jsxs)(m.a,{placement:"bottom-end",children:[Object(k.jsx)(m.b,{as:g.a,icon:Object(k.jsx)(y.b,{})}),Object(k.jsxs)(m.d,{children:[Object(k.jsx)(m.c,{onClick:function(){return te("zh")},children:"\u4e2d\u6587"}),Object(k.jsx)(m.c,{onClick:function(){return te("en")},children:"English"})]})]}),Object(k.jsx)(T,{})]}),Object(k.jsxs)(v.a,{spacing:3,justify:F?"space-between":"flex-end",align:"center",children:[F&&Object(k.jsx)(p.a,{fontSize:"xl",children:t("clickToRemove")}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(g.a,{icon:F?Object(k.jsx)(y.a,{}):Object(k.jsx)(d.a,{}),onClick:function(){return P(!F)}}),Object(k.jsxs)(m.a,{placement:"bottom-end",children:[Object(k.jsx)(m.b,{as:C.a,rightIcon:Object(k.jsx)(u.a,{}),children:t("actions")}),Object(k.jsxs)(m.d,{children:[Object(k.jsx)(m.c,{onClick:function(){R.current.select.clearValue(),Y([]),U([])},children:t("reset")}),Object(k.jsxs)(m.c,{onClick:function(){return U([])},children:[" ",t("resetRemoved")]}),F&&Object(k.jsx)(m.c,{onClick:function(){Object(w.exportComponentAsJPEG)(D,{fileName:"Schedule.jpg",html2CanvasOptions:{backgroundColor:z,scrollX:-window.scrollX,scrollY:-window.scrollY,windowWidth:document.documentElement.offsetWidth,windowHeight:document.documentElement.offsetHeight}})},children:t("export")})]})]})]})]}),F?Object(k.jsx)(I,{calendarRef:D,grouped:W,weekDays:re,hours:ae,courseColorMap:ie,setRemoved:U}):Object(k.jsx)(A,{grouped:W,weekDays:re,hours:ae,setRemoved:U,courseColorMap:ie})]})},te=n(196),ne=n(91),ce=Object(te.a)({fonts:{body:"Noto Sans TC"},styles:{global:function(e){return{body:{bg:Object(ne.a)("white","gray.700")(e)}}}}}),re=n(104),ae=n(76),oe={en:{translation:n(134)},zh:{translation:n(135)}},ie=localStorage.getItem("lang");re.a.use(ae.e).init({fallbackLng:"zh",resources:oe,lng:ie,interpolation:{escapeValue:!1}});re.a,n(165);i.a.render(Object(k.jsxs)(c.a,{theme:ce,children:[Object(k.jsx)(r.a,{}),Object(k.jsx)(ee,{})]}),document.getElementById("root"))}},[[166,1,2]]]);
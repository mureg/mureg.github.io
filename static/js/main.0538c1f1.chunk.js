(this["webpackJsonpscheduler-app"]=this["webpackJsonpscheduler-app"]||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var c=n(171),o=n(167),r=n(0),a=n(33),s=n.n(a),i=n(10),l=n(4),u=n(163),j=n(165),d=n(108),b=n(170),h=n(174),p=n(173),x=n(158),O=n(162),f=n(155),m=n(151),g=n(164),C=n(169),w=n(107),v=n(96),S=n(59),k=n(106),y=n(97),E=n(3),z=function(e){var t=Object(d.c)().toggleColorMode,n=Object(d.d)("dark","light"),c=Object(d.d)(S.b,S.c);return Object(E.jsx)(m.a,Object(y.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"solid",color:"current",onClick:t,icon:Object(E.jsx)(c,{})},e))},D=n(154),T=function(e){var t=e.grouped,n=e.weekDays,c=e.hours,o=e.courseColorMap,r=e.setRemoved,a=e.calendarRef;return Object(E.jsxs)(h.a,{align:"top",spacing:"0",h:"660px",w:"1248px",overflow:"auto",ref:a,children:[Object(E.jsx)(h.c,{spacing:"0",mt:3,children:c.map((function(e){return Object(E.jsx)(D.a,{h:"50px",w:"60px",alignItems:"flex-end",justifyContent:"center",children:e},1e3*Math.random())}))}),n.map((function(e){return Object(E.jsxs)(h.c,{spacing:"0",position:"relative",children:[Object(E.jsx)(D.a,{h:"50px",w:"197px",alignItems:"center",justifyContent:"center",children:e},1e3*Math.random()),c.map((function(n,c){var a;return(null===(a=t[e])||void 0===a?void 0:a[n])?Object(E.jsx)(D.a,{position:"absolute",top:"".concat(50*(c+1),"px"),w:"100%",children:t[e][n].map((function(c){var a;return Object(E.jsx)(f.a,{as:"button",p:1,borderWidth:"1px",borderColor:o[c["Course Code"]],borderLeftWidth:"5px",borderLeftColor:"l"===c["Class Section"].charAt(0).toLowerCase()?"yellow":"blackAlpha.500",bg:null!==(a=o[c["Course Code"]])&&void 0!==a?a:"transparent",overflow:"auto",w:"".concat(100/t[e][n].length,"%"),h:"".concat(50*(c["End Time"].slice(0,2)-c["Start Time"].slice(0,2)),"px"),onClick:function(){return r((function(e){return[].concat(Object(i.a)(e),[c.index])}))},children:Object(E.jsxs)(h.b,{spacing:1,fontSize:"sm",children:[Object(E.jsxs)(f.a,{children:[c["Course Code"]," - ",c["Class Section"]]}),Object(E.jsx)(f.a,{children:c["Class Type"]}),Object(E.jsxs)(f.a,{children:[c["Start Time"]," - ",c["End Time"]]})]})})}))}):Object(E.jsx)(f.a,{top:"".concat(50*(c+1),"px"),w:"100%",h:"50px",borderWidth:"1px",position:"absolute",zIndex:"-1"})}))]})}))]})},R=n(160),A=n(175),B=n(159),F=n(161),M=function(e){var t=e.grouped,n=e.weekDays,c=e.hours,o=e.setRemoved,r=e.courseColorMap;return Object(E.jsxs)(A.e,{isLazy:!0,minH:"500px",children:[Object(E.jsx)(A.b,{children:n.map((function(e){return Object(E.jsx)(A.a,{children:e})}))}),Object(E.jsx)(A.d,{children:n.map((function(e){return Object(E.jsx)(A.c,{px:"0",children:c.map((function(n){var c,a;return(null===(c=t[e])||void 0===c?void 0:c[n])&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(h.a,{w:"100%",mb:3,children:[Object(E.jsx)(f.a,{alignSelf:"start",w:"80px",children:Object(E.jsx)(x.a,{fontSize:"2xl",color:"gray.500",children:n})}),Object(E.jsx)(h.c,{spacing:3,align:"start",w:"100%",children:null===(a=t[e])||void 0===a?void 0:a[n].map((function(e){return Object(E.jsxs)(h.c,{align:"flex-start",spacing:3,p:3,w:"100%",bg:r[e["Course Code"]],borderLeftWidth:"5px",borderLeftColor:"l"===e["Class Section"].charAt(0).toLowerCase()?"yellow":"blackAlpha.500",borderRadius:"md",direction:"column",children:[Object(E.jsxs)(D.a,{justifyContent:"space-between",w:"100%",alignItems:"center",children:[Object(E.jsxs)(h.a,{children:[Object(E.jsx)(B.a,{size:"lg",bg:"blackAlpha.300",children:e["Class Type"]}),Object(E.jsx)(B.a,{size:"lg",bg:"blackAlpha.300",children:e["Class Section"]})]}),Object(E.jsx)(m.a,{onClick:function(){return o((function(t){return[].concat(Object(i.a)(t),[e.index])}))},alignSelf:"flex-end",size:"sm",variant:"ghost",icon:Object(E.jsx)(R.a,{})})]}),Object(E.jsx)(x.a,{fontSize:"2xl",fontWeight:"bold",children:e["Course Code"]}),Object(E.jsxs)(x.a,{fontSize:"xl",children:[e["Start Time"]," - ",e["End Time"]]}),Object(E.jsx)(x.a,{fontSize:"xl",children:e["Venue (note)"]})]})}))})]}),Object(E.jsx)(F.a,{orientation:"horizontal",mb:3})]})}))})}))})]})},I=function(){var e=Object(r.useState)({data:[]}),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(d.d)("#FFFFFF","#2D3748"),a=Object(r.useRef)(null),s=Object(r.useRef)(null),y=Object(r.useState)(!0),D=Object(l.a)(y,2),R=D[0],A=D[1],B=Object(r.useState)({}),F=Object(l.a)(B,2),I=F[0],L=F[1],W=Object(r.useState)([]),H=Object(l.a)(W,2),J=H[0],N=H[1],V=Object(r.useState)([]),X=Object(l.a)(V,2),Y=X[0],G=X[1],P=Object(r.useState)(null),U=Object(l.a)(P,2),q=U[0],K=U[1],Q=Object(b.a)();Object(r.useEffect)((function(){fetch("https://mureg.herokuapp.com/api/schedule").then((function(e){if(e.ok)return e.json();throw new Error("Data Not Found")})).then((function(e){c(e),e.lastUpdated.split(" ")[0]!==(new Date).toISOString().split("T")[0]&&fetch("https://mureg.herokuapp.com/api/update").then((function(){return Z()}))})).catch((function(e){K(e.message)}))}),[]);var Z=function(){Q({title:"New Data Available!",description:"Refresh To View The Latest Schedule.",status:"info",duration:5e3,isClosable:!0,position:"top"})},$=["#4299E1B3","#E53E3EB3","#38A169B3","#DD6B20B3","#D53F8CB3","#00B5D8B3","#715096B3","#319795B3","#D69E2EB3","#505AD5B3"],_=["Mon","Tue","Wed","Thu","Fri","Sat"],ee=["18:00","12:00","15:00","13:00","19:00","09:00","10:00","14:00","17:00","11:00","16:00","20:00"].sort(),te=[];Object(i.a)(new Map(n.data.map((function(e){return[e["Course Code"],e]}))).values()).map((function(e){return te.push({value:e["Course Code"],label:e["Course Code"]})}));var ne={};J.map((function(e){return e.value})).forEach((function(e,t){return ne[e]=$[t]}));return Object(r.useEffect)((function(){var e=n.data.filter((function(e){return J.map((function(e){return e.value})).includes(e["Course Code"])}));e=e.filter((function(e){return!Y.includes(e.index)}));var t=["Day","Start Time"],c={};e.forEach((function(e){t.reduce((function(n,c,o){return n[e[c]]=n[e[c]]||(o+1===t.length?[]:{}),n[e[c]]}),c).push(e)})),L(c)}),[Y,J]),0===n.data.length?Object(E.jsxs)(h.c,{h:"100vh",justify:"center",align:"center",children:[q||Object(E.jsx)(p.a,{size:"xl",thickness:"5px",speed:"0.65s"}),Object(E.jsx)(x.a,{fontSize:"xl",children:q||"Loading Data..."})]}):Object(E.jsxs)(O.a,{maxW:"container.xl",overflow:"auto",children:[Object(E.jsxs)(h.a,{spacing:3,justifyContent:"space-between",alignItems:"center",children:[Object(E.jsx)(f.a,{my:3,color:"black",w:"100%",children:Object(E.jsx)(k.a,{isClearable:!1,ref:a,options:te,isMulti:!0,onChange:function(e){return N(e)}})}),Object(E.jsx)(m.a,{icon:R?Object(E.jsx)(S.a,{}):Object(E.jsx)(u.a,{}),onClick:function(){return A(!R)}}),Object(E.jsx)(z,{})]}),Object(E.jsxs)(g.a,{spacing:3,justify:"space-between",children:[R&&Object(E.jsx)(x.a,{fontSize:"xl",children:"Click On Any Schedule Item To Remove"}),Object(E.jsxs)(C.a,{children:[Object(E.jsx)(C.b,{as:w.a,rightIcon:Object(E.jsx)(j.a,{}),children:"Actions"}),Object(E.jsxs)(C.d,{children:[Object(E.jsx)(C.c,{onClick:function(){return G([])},children:"Reset Removed"}),Object(E.jsx)(C.c,{onClick:function(){a.current.select.clearValue(),N([]),G([])},children:"Reset All"}),R&&Object(E.jsx)(C.c,{onClick:function(){Object(v.exportComponentAsJPEG)(s,{fileName:"Schedule.jpg",html2CanvasOptions:{backgroundColor:o,scrollX:-window.scrollX,scrollY:-window.scrollY,windowWidth:document.documentElement.offsetWidth,windowHeight:document.documentElement.offsetHeight}})},children:"Export"})]})]})]}),R?Object(E.jsx)(T,{calendarRef:s,grouped:I,weekDays:_,hours:ee,courseColorMap:ne,setRemoved:G}):Object(E.jsx)(M,{grouped:I,weekDays:_,hours:ee,setRemoved:G,courseColorMap:ne})]})},L=n(166),W=n(76),H=Object(L.a)({styles:{global:function(e){return{body:{bg:Object(W.a)("white","gray.700")(e)}}}}});s.a.render(Object(E.jsxs)(c.a,{theme:H,children:[Object(E.jsx)(o.a,{}),Object(E.jsx)(I,{})]}),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.0538c1f1.chunk.js.map